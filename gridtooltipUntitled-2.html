for (let details of results.candidates) { voteShare = voteShare + `
<p class="w-[200px] grid grid-cols-[70px_70px_70px]">
  <span class="font-[600] text-[12px] grid grid-cols-2">
    ${details.party} <span class="pl-1">:</span>
  </span>
  <span class="text-[gray] text-[12px] -ml-4"
    >${new Intl.NumberFormat( "en-IN" ).format(details.votesCount)}</span
  >

  <span class="text-[gray] text-[12px] -ml-8">
    <span class="px-2">|</span> ${details.voteShare?.toFixed( 2 )}%</span
  >
</p>
`; let deltaHtml = ``; if (details.delta < 0) { deltaHtml = `<span
  class="px-2 text-[12px] -ml-4 text-red-500 flex items-baseline gap-1"
>
  (
  <svg
    fill="red"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 320 512"
    width="10"
    height="10"
    className="w-5 h-5"
  >
    <path
      d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"
    />
  </svg>
  ${details.delta?.toFixed(2) || 0}%) </span
>`; } else { deltaHtml = `<span
  class="px-2 text-[12px] -ml-4 text-green-500 flex items-baseline gap-1"
>
  (
  <svg
    fill="green"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 320 512"
    width="10"
    height="10"
    className="w-5 h-5"
  >
    <path
      d="M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"
    />
  </svg>
  ${details.delta?.toFixed(2) || 0}%) </span
>`; } modeled = modeled + `
<p class="w-[200px] grid grid-cols-[70px_70px_70px]">
  <span class="text-[gray] text-[12px]"
    >${new Intl.NumberFormat( "en-IN"
    ).format(details.revisedVotesCount?.toFixed(0))}</span
  >

  <span class="text-[gray] text-[12px] -ml-6">
    <span class="px-2">|</span> ${details.revisedVoteShare?.toFixed( 2 )}%</span
  >

  ${deltaHtml}
</p>
`; if (details.votesCount > winningPartySeats) { winningPartySeats =
details.votesCount; winningParty = details.party; } } //results.winner return {
html: `
<div
  class="bg-white p-0 pt-0 rounded-lg w-fit min-w-[250px] max-w-[fit-content]"
>
  <p class="bg-[#fff9e0] rounded-md p-2.5 pl-3 text-[14px]">
    <span class="font-[600]">${results.state}</span>
  </p>
  <div class="flex flex-col gap-1 text-[gray] pb-3 pt-2 px-4">
    <p class="flex gap-3 text-[13px]">
      <span class="">Constituency</span>
      <span class="text-black font-[600]">
        <span class="pr-2">:</span> ${results.pcName}
      </span>
    </p>
    <p class="flex gap-2 text-[13px]">
      <span class=" ">Winning Party</span>
      <span class="text-black font-[600]">
        <span class="pr-2">:</span> ${winningParty}
      </span>
    </p>
  </div>

  <div class="flex gap-0 pt-0 pb-3 px-5 w-full">
    <div class="flex flex-col gap-1 w-1/2">
      <span class="font-[600] pb-1">
        Vote Share
        <span class=" ">:</span>
      </span>
      <div class="pr-3 flex flex-col gap-[7px]">${voteShare}</div>
    </div>

    <div class="flex flex-col gap-1 w-1/2">
      <span class="font-[600] pb-1 text-center">
        Modelled Vote
        <span class="px-2"></span>
      </span>
      <div
        class="flex flex-col gap-[7px] border-l-[1px] border-black pl-3 -ml-4"
      >
        ${modeled}
      </div>
    </div>
  </div>

  <div>`, };</div>
</div>
